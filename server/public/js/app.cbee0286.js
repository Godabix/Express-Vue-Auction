(function(t){function e(e){for(var i,o,r=e[0],c=e[1],u=e[2],d=0,p=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(p.length)p.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(i=!1)}i&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},a={app:0},s=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1:function(t,e){},"16d1":function(t,e,n){},"1ccf":function(t,e,n){"use strict";var i=n("ea57"),a=n.n(i);a.a},"1cff":function(t,e,n){},"21bb":function(t,e,n){"use strict";var i=n("2dad"),a=n.n(i);a.a},"2dad":function(t,e,n){},"2f0f":function(t,e,n){"use strict";var i=n("85fc"),a=n.n(i);a.a},"419e":function(t,e,n){"use strict";var i=n("543e"),a=n.n(i);a.a},"41ba":function(t,e,n){"use strict";var i=n("6622"),a=n.n(i);a.a},"4b62":function(t,e,n){},"543e":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-link",{staticClass:"routerlinks",attrs:{to:"/"}},[t._v("Home")])],1),n("div",{staticClass:"content-page"},[n("router-view",{staticClass:"content-page"})],1)])},s=[],o=(n("5c0b"),n("2877")),r={},c=Object(o["a"])(r,a,s,!1,null,null,null),u=c.exports,l=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home-page"},[n("div",{staticClass:"home-container"},[n("div",{staticClass:"home-left"},[n("left-panel")],1),n("div",{staticClass:"home-center"},[n("auctions")],1),n("div",{staticClass:"home-right"},[n("right-panel")],1)])])},p=[],h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"left-panel"},[t.isAuthenticated&&!t.isAuthenticating?n("div",{staticClass:"user-menu"},[n("button",{staticClass:"menu-button",on:{click:t.navigateToAllAuctions}},[t._v("All auctions")]),n("button",{staticClass:"menu-button",on:{click:t.navigateToMyAuction}},[t._v("My auctions")]),n("button",{staticClass:"menu-button",on:{click:t.navigateToMyHistory}},[t._v("My History")]),n("button",{staticClass:"menu-button",on:{click:t.navigateToCreateAuction}},[t._v("Create Auction")])]):t._e()])},f=[],v=n("fc8e"),m=n.n(v),g={name:"LeftPanel",data:function(){return{isAuthenticated:!1,isAuthenticating:!0,usernameError:!1,passwordError:!1,loginError:!1}},beforeCreate:function(){var t=this;m.a.get("/api/user-status").then((function(e){t.isAuthenticated=e.data["isAuthenticated"],t.isAuthenticating=!1}))},methods:{login:function(){if(0==this.$refs["username-input"].value.length?this.usernameError=!0:this.usernameError=!1,0==this.$refs["username-input"].value.length?this.passwordError=!0:this.passwordError=!1,!this.usernameError||!this.passwordError){var t={username:this.$refs["username-input"].value,password:this.$refs["password-input"].value};m.a.post("/api/login",t).then((function(){location.reload()})),this.loginError=!0}},logout:function(){m.a.get("/api/logout").then((function(){window.location.href="/"}))},navigateToAllAuctions:function(){window.location.href="/"},navigateToMyAuction:function(){window.location.href="/myauctions"},navigateToMyHistory:function(){window.location.href="/myhistory"},navigateToCreateAuction:function(){window.location.href="/create-auction"}}},_=g,y=(n("86eb"),Object(o["a"])(_,h,f,!1,null,null,null)),b=y.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"auctions-list"},[t._l(t.auctions,(function(e){return n("div",{key:e._id},[n("div",{staticClass:"auctions-break"}),n("div",{staticClass:"auctions",on:{click:function(n){return t.navigateToAuction(e)}}},[n("div",{staticClass:"auctions-name"},[n("h1",[t._v(t._s(e.name))])]),n("div",{staticClass:"auctions-price"},[n("p",[t._v("Price: "+t._s(e.price))])]),n("div",{staticClass:"auctions-bidders"},[n("p",[t._v("Bidders: "+t._s(e.bidders.length))])])])])})),n("div",{staticClass:"auctions-break"}),n("div",{staticClass:"auctions-load-div"},[0!=this.auctionsLoaded&&this.auctionsLoaded%10===0?n("button",{staticClass:"auctions-load-button",on:{click:t.loadAuctions}},[t._v("Load Auctions")]):t._e()])],2)},w=[],A=(n("99af"),{name:"Auctions",data:function(){return{auctions:null,auctionsLoaded:0}},created:function(){var t=this;m.a.get("/api/auction/auctions",{index:this.auctionsLoaded}).then((function(e){t.auctions=e.data,t.auctionsLoaded=t.auctions.length}))},methods:{navigateToAuction:function(t){window.location.href="/auction/id:"+t._id},loadAuctions:function(){var t=this;m.a.post("/api/auction/auctions",{index:this.auctionsLoaded}).then((function(e){t.auctions=t.auctions.concat(e.data),t.auctionsLoaded=t.auctions.length}))}}}),E=A,x=(n("9c71"),Object(o["a"])(E,C,w,!1,null,null,null)),$=x.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"right-panel"},[this.isAuthenticated&&!this.isAuthenticating?n("div",{staticClass:"right-panel-div"},[n("div",{staticClass:"right-panel-box"},[n("p",{domProps:{textContent:t._s("Welcome "+this.username)}}),n("p",{domProps:{textContent:t._s("Auctions: "+this.auctions)}}),n("p",{domProps:{textContent:t._s("Bids: "+this.bids)}}),n("button",{staticClass:"right-panel-button",on:{click:t.logout}},[t._v("Logout")]),n("button",{staticClass:"right-panel-button",on:{click:t.messenger}},[t._v("Messenger")])])]):t._e(),t.isAuthenticated||t.isAuthenticating?t._e():n("div",{staticClass:"right-panel-div"},[n("div",{staticClass:"right-panel-box"},[t.loginError?n("span",[n("p",[t._v("Incorrect username or password")])]):t._e(),t.usernameError?n("span",[n("p",[t._v("Please enter username.")])]):t._e(),n("input",{ref:"username-input",staticClass:"input",attrs:{id:"username-input",type:"text",placeholder:"username",required:""}}),t.passwordError?n("span",[n("p",[t._v("Please enter password.")])]):t._e(),n("input",{ref:"password-input",staticClass:"input",attrs:{id:"password-input",type:"password",placeholder:"password",required:""}}),n("button",{staticClass:"right-panel-button",on:{click:t.login}},[t._v("Login")]),t._m(0)])])])},L=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a",[t._v("Not a user?")]),n("a",{attrs:{href:"/register"}},[t._v("Register")])])}],P=(n("a9e3"),{name:"RightPanel",data:function(){return{isAuthenticated:!1,isAuthenticating:!0,usernameError:!1,passwordError:!1,loginError:!1,username:{type:String,default:""},auctions:{type:Number,default:0},bids:{type:Number,default:0}}},beforeCreate:function(){var t=this;m.a.get("/api/user-status").then((function(e){t.isAuthenticated=e.data["isAuthenticated"],t.username=e.data["username"],t.isAuthenticating=!1})),m.a.get("/api/user-auction-data").then((function(e){t.auctions=e.data["auctions"]})),m.a.get("/api/user-bid-data").then((function(e){t.bids=e.data["bids"]}))},methods:{login:function(){var t=this;if(0==this.$refs["username-input"].value.length?this.usernameError=!0:this.usernameError=!1,0==this.$refs["username-input"].value.length?this.passwordError=!0:this.passwordError=!1,!this.usernameError||!this.passwordError){var e={username:this.$refs["username-input"].value,password:this.$refs["password-input"].value};m.a.post("/api/login",e).then((function(){location.reload()})).catch((function(){t.loginError=!0}))}},logout:function(){m.a.get("/api/logout").then((function(){window.location.href="/"}))},messenger:function(){window.location.href="/messenger"}}}),O=P,T=(n("2f0f"),Object(o["a"])(O,k,L,!1,null,null,null)),S=T.exports,j={name:"Home",components:{LeftPanel:b,Auctions:$,RightPanel:S}},M=j,B=(n("21bb"),Object(o["a"])(M,d,p,!1,null,null,null)),D=B.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"my-auctions-page"},[n("div",{staticClass:"my-auctions-container"},[n("div",{staticClass:"my-auctions-left"},[n("left-panel")],1),n("div",{staticClass:"my-auctions-center"},[n("my-auctions")],1),n("div",{staticClass:"my-auctions-right"},[n("right-panel")],1)])])},R=[],N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isAuthenticated&&!t.isAuthenticating?n("div",{staticClass:"my-auction-list"},[t._l(this.auctions,(function(e){return n("div",{key:e._id},[n("div",{staticClass:"my-auction-break"}),n("div",{staticClass:"my-auction",on:{click:function(n){return t.navigateToAuction(e)}}},[n("div",{staticClass:"my-auction-name"},[n("h1",[t._v(t._s(e.name))])]),n("div",{staticClass:"my-auction-price"},[n("p",[t._v("Price: "+t._s(e.price))])]),n("div",{staticClass:"my-auction-status"},["NEW"==e.status?n("p",{staticClass:"my-auction-redStatus"},[t._v("NOT STARTED")]):t._e(),"BID"==e.status?n("div",["BID"==e.type?n("p",{staticClass:"my-auction-greenStatus"},[t._v("BIDDERS: "+t._s(e.bidders.length))]):t._e(),"BUY"==e.type?n("p",{staticClass:"my-auction-yellowStatus"},[t._v("NO BUYER")]):t._e()]):t._e()])])])})),n("div",{staticClass:"my-auctions-load-div"},[0!=this.auctionsLoaded&&this.auctionsLoaded%10===0?n("button",{staticClass:"my-auctions-load-button",on:{click:t.loadAuctions}},[t._v("Load Auctions")]):t._e()])],2):t._e()},H=[],V={name:"MyAuctions",data:function(){return{auctions:[],auctionsLoaded:0,isAuthenticated:!1,isAuthenticating:!0}},beforeCreate:function(){var t=this;m.a.get("/api/user-status").then((function(e){t.isAuthenticated=e.data["isAuthenticated"],0==t.isAuthenticated&&(window.location.href="/"),t.isAuthenticating=!1,m.a.post("/api/auction/myauctions",{index:t.auctionsLoaded}).then((function(e){t.auctions=t.auctions.concat(e.data),t.auctionsLoaded=t.auctions.length}))}))},methods:{navigateToAuction:function(t){window.location.href="/auction/id:"+t._id},loadAuctions:function(){var t=this;m.a.post("/api/auction/myauctions",{index:this.auctionsLoaded}).then((function(e){t.auctions=t.auctions.concat(e.data),t.auctionsLoaded=t.auctions.length}))}}},q=V,F=(n("419e"),Object(o["a"])(q,N,H,!1,null,null,null)),U=F.exports,W={name:"MyAuctionsView",components:{LeftPanel:b,MyAuctions:U,RightPanel:S}},Y=W,J=(n("cac0"),Object(o["a"])(Y,I,R,!1,null,null,null)),K=J.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"my-history-page"},[n("div",{staticClass:"my-history-container"},[n("div",{staticClass:"my-history-left"},[n("left-panel")],1),n("div",{staticClass:"my-history-center"},[n("my-history")],1),n("div",{staticClass:"my-history-right"},[n("right-panel")],1)])])},G=[],Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isAuthenticated&&!t.isAuthenticating?n("div",{ref:"auction-list",staticClass:"my-history-list",attrs:{id:"auction-list"}},[t._l(t.auctions,(function(e){return n("div",{key:e._id},[n("div",{staticClass:"my-history-break"}),n("div",{staticClass:"my-history",on:{click:function(n){return t.navigateToAuction(e)}}},[n("div",{staticClass:"my-history-name"},[n("h1",[t._v(t._s(e.name))])]),n("div",{staticClass:"my-history-price"},[n("p",[t._v("Price: "+t._s(e.price))])]),n("div",{staticClass:"my-history-status"},[e.highest_bidder==t.username?n("p",{staticClass:"my-history-greenStatus"},[t._v("WON")]):t._e(),e.creator!=t.username&&e.highest_bidder!=t.username?n("p",{staticClass:"my-history-redStatus"},[t._v("LOST")]):t._e(),e.creator==t.username&&"SOLD"==e.status?n("p",{staticClass:"my-history-greenStatus"},[t._v("SOLD")]):t._e(),e.creator==t.username&&"FAILED"==e.status?n("p",{staticClass:"my-history-redStatus"},[t._v("FAILED")]):t._e()])])])})),n("div",{staticClass:"my-history-load-div"},[0!=this.auctionsLoaded&&this.auctionsLoaded%10===0?n("button",{staticClass:"my-history-load-button",on:{click:t.loadAuctions}},[t._v("Load Auctions")]):t._e()])],2):t._e()},X=[],Z={name:"MyHistory",props:{username:{type:String,default:""}},data:function(){return{isAuthenticated:!1,isAuthenticating:!0,auctions:[],auctionsLoaded:0}},beforeCreate:function(){var t=this;m.a.get("/api/user-status").then((function(e){t.isAuthenticated=e.data["isAuthenticated"],t.username=e.data["username"],t.isAuthenticating=!1,0==t.isAuthenticated?window.location.href="/":m.a.post("/api/auction/myhistory",{index:t.auctionsLoaded}).then((function(e){t.auctions=e.data,t.auctionsLoaded=t.auctions.length}))}))},methods:{navigateToAuction:function(t){window.location.href="/auction/id:"+t._id},loadAuctions:function(){var t=this;m.a.post("/api/auction/myhistory",{index:this.auctionsLoaded}).then((function(e){t.auctions=t.auctions.concat(e.data),t.auctionsLoaded=t.auctions.length}))}}},tt=Z,et=(n("f738"),Object(o["a"])(tt,Q,X,!1,null,null,null)),nt=et.exports,it={name:"MyHistoryView",components:{LeftPanel:b,MyHistory:nt,RightPanel:S}},at=it,st=(n("c6da"),Object(o["a"])(at,z,G,!1,null,null,null)),ot=st.exports,rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"create-auction-page"},[n("div",{staticClass:"create-auction-container"},[n("div",{staticClass:"create-auction-left"},[n("left-panel")],1),n("div",{staticClass:"create-auction-center"},[n("create-auction-form")],1),n("div",{staticClass:"create-auction-right"},[n("right-panel")],1)])])},ct=[],ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"create-auction-div"},[t.isAuthenticated?n("div",{staticClass:"create-auction-box"},[t.nameError?n("span",[n("p",[t._v("Name can't be empty")])]):t._e(),n("input",{ref:"auction-name-input",staticClass:"input",attrs:{id:"auction-name-input",type:"text",placeholder:"auction name",required:""}}),t.priceError?n("span",[n("p",[t._v("Price can't be empty/smaller than 0.01")])]):t._e(),n("input",{ref:"auction-price-input",staticClass:"input",attrs:{id:"auction-price-input",type:"number",min:"0.01",step:"0.01",placeholder:"0.01",required:""}}),t.typeError?n("span",[n("p",[t._v("Please select an option.")])]):t._e(),n("div",[n("select",{ref:"auction-type-select",attrs:{id:"auction-type-select"}},[n("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Select type")]),n("option",{attrs:{value:"BID"}},[t._v(" Bid type")]),n("option",{attrs:{value:"BUY"}},[t._v("Buy now type")])])]),n("button",{staticClass:"create-auction-button",on:{click:t.save}},[t._v("Save")])]):t._e()])},lt=[],dt={name:"CreateAuctionForm",data:function(){return{isAuthenticated:{type:Boolean,default:!1},nameError:!1,priceError:!1,typeError:!1}},beforeCreate:function(){var t=this;m.a.get("/api/user-status").then((function(e){t.isAuthenticated=e.data["isAuthenticated"]}))},methods:{save:function(){if(0==this.$refs["auction-name-input"].value.length?this.nameError=!0:this.nameError=!1,0==this.$refs["auction-price-input"].value.length||this.$refs["auction-price-input"].value<.01?this.priceError=!0:this.priceError=!1,0==this.$refs["auction-type-select"].options[this.$refs["auction-type-select"].selectedIndex].value.length?this.typeError=!0:this.typeError=!1,!this.nameError&&!this.priceError&&!this.typeError){var t={name:this.$refs["auction-name-input"].value,price:this.$refs["auction-price-input"].value,status:"NEW",type:this.$refs["auction-type-select"].options[this.$refs["auction-type-select"].selectedIndex].value};m.a.post("/api/auction/create",t).then((function(){window.location.href="/myauctions"}))}}}},pt=dt,ht=(n("b81d"),Object(o["a"])(pt,ut,lt,!1,null,null,null)),ft=ht.exports,vt={name:"CreateAuctionView",components:{LeftPanel:b,RightPanel:S,CreateAuctionForm:ft}},mt=vt,gt=(n("7285"),Object(o["a"])(mt,rt,ct,!1,null,null,null)),_t=gt.exports,yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"auction-page"},[n("div",{staticClass:"auction-container"},[n("div",{staticClass:"auction-left"},[n("left-panel")],1),n("div",{staticClass:"auction-center"},[n("auction")],1),n("div",{staticClass:"auction-right"},[n("right-panel")],1)])])},bt=[],Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"auction-div"},[t.isLoaded&&null!=t.auction?n("div",{staticClass:"auction-box"},[n("h1",[t._v("Auction")]),n("p",{domProps:{textContent:t._s("Name: "+t.auction.name)}}),n("p",{domProps:{textContent:t._s("Price: "+t.auction.price)}}),n("p",{domProps:{textContent:t._s("Type: "+t.auction.type)}}),n("p",{domProps:{textContent:t._s("Creator: "+t.auction.creator)}}),null!=t.auction.end_time&&new Date(this.auction.end_time).getTime()>=(new Date).getTime()?n("p",{domProps:{textContent:t._s("Time left: "+this.time_left)}}):t._e(),t.isAuthenticated&&t.auction.creator==t.username&&"NEW"==t.auction.status?n("div",[n("button",{staticClass:"auction-button",on:{click:t.edit}},[t._v("Edit")]),n("button",{staticClass:"auction-button",on:{click:t.start}},[t._v("Start")])]):t._e(),t.isAuthenticated&&t.auction.creator==t.username&&"SOLD"==t.auction.status?n("div",[n("button",{staticClass:"auction-button",on:{click:t.newConversation}},[t._v("Contact buyer")])]):t._e(),t.isAuthenticated&&!t.isAuthenticating&&t.isLoaded&&t.auction.creator!=t.username?n("div",["BID"==t.auction.type&&"BID"==t.auction.status?n("div",[n("input",{ref:"auction-bid-input",staticClass:"input",attrs:{id:"auction-bid-input",type:"number",min:t.auction.price+.01,step:"0.01",placeholder:t.auction.price,required:""}}),n("button",{staticClass:"auction-button",on:{click:t.bid}},[t._v("Bid")])]):t._e(),"BUY"==t.auction.type&&"BID"==t.auction.status?n("div",[n("button",{staticClass:"auction-button",on:{click:t.buy}},[t._v("Buy now")])]):t._e(),"SOLD"==t.auction.status&&t.auction.highest_bidder==t.username?n("div",[n("button",{staticClass:"auction-button",on:{click:t.newConversation}},[t._v("Contact seller")])]):t._e()]):t._e()]):t._e()])},wt=[],At=(n("fb6a"),n("d3b7"),n("ac1f"),n("25f0"),n("1276"),n("8055")),Et=n.n(At),xt={name:"Auction",data:function(){return{isAuthenticated:!1,isAuthenticating:!0,isLoaded:!1,username:{type:String,default:""},time_left:null,timer:null,auction:null,socket:Et()()}},beforeCreate:function(){var t=this;m.a.get("/api/user-status").then((function(e){t.isAuthenticated=e.data["isAuthenticated"],t.username=e.data["username"],t.isAuthenticating=!1;var n={index:window.location.href.split("id:").slice(-1)[0].toString()};m.a.post("/api/auction/auction",n).then((function(e){t.auction=e.data["auction"],t.isLoaded=!0,null!=t.auction.end_time&&new Date(t.auction.end_time).getTime()>=(new Date).getTime()&&(t.timer=setInterval((function(){var e=(new Date).getTime(),n=new Date(t.auction.end_time),i=n-e,a=Math.floor(i%864e5/36e5),s=Math.floor(i%36e5/6e4),o=Math.floor(i%6e4/1e3),r=a.toString(),c=s.toString(),u=o.toString();1==r.length&&(r="0"+r),1==c.length&&(c="0"+c),1==u.length&&(u="0"+u),t.time_left=r+":"+c+":"+u,i<=0&&(clearInterval(t.timer),window.location.href="/")}))),t.isAuthenticated&&null!=t.auction&&"BID"==t.auction.status&&t.socket.emit("join-auction",{_id:t.auction._id})}))}))},created:function(){var t=this;window.onbeforeunload=function(){t.isAuthenticated&&t.socket.emit("leave-auction",{_id:t.auction._id})},this.socket.on("new-bid",(function(){m.a.post("/api/auction/auction-price",{_id:t.auction._id}).then((function(e){t.auction.price=e.data["price"]}))}))},methods:{buy:function(){var t={_id:this.auction._id};m.a.post("/api/auction/buy",t).then((function(){})),window.location.href="/myauctions"},start:function(){this.socket.emit("auction-start",{_id:this.auction._id}),window.location.href="/myauctions"},edit:function(){var t="/edit-auction/id:"+this.auction._id;window.location.href=t},bid:function(){this.socket.emit("auction-bid",{_id:this.auction._id,new_bid:this.$refs["auction-bid-input"].value})},newConversation:function(){var t={users:[this.auction.creator,this.auction.highest_bidder]};m.a.post("/api/conversations/conversation-create",t).then((function(){window.location.href="/messenger"}))}}},$t=xt,kt=(n("98bb"),Object(o["a"])($t,Ct,wt,!1,null,null,null)),Lt=kt.exports,Pt={name:"AuctionView",components:{LeftPanel:b,Auction:Lt,RightPanel:S}},Ot=Pt,Tt=(n("8ee4"),Object(o["a"])(Ot,yt,bt,!1,null,null,null)),St=Tt.exports,jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"auction-edit-page"},[n("div",{staticClass:"auction-edit-container"},[n("div",{staticClass:"auction-edit-left"},[n("left-panel")],1),n("div",{staticClass:"auction-edit-center"},[n("edit-auction-form",{attrs:{isLoading:!0}})],1),n("div",{staticClass:"auction-edit-right"},[n("right-panel")],1)])])},Mt=[],Bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"edit-auction-div"},[null==t.auction||t.isLoading||"NEW"!=t.auction.status||t.auction.creator!=t.username?t._e():n("div",{staticClass:"edit-auction-box"},[n("h1",[t._v("Auction")]),n("input",{ref:"auction-name-input",staticClass:"input",attrs:{id:"auction-name-input",type:"text",placeholder:t.auction.name}}),t.priceError?n("span",[n("p",[t._v("Please enter price bigger than 0.00")])]):t._e(),n("input",{ref:"auction-price-input",staticClass:"input",attrs:{id:"auction-price-input",type:"number",min:"0.01",step:"0.01",placeholder:t.auction.price}}),n("p",{domProps:{textContent:t._s("Type: "+t.auction.type)}}),n("div",{staticClass:"select-type"},[n("select",{ref:"auction-type-select",attrs:{id:"auction-type-select"}},[n("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Select type")]),n("option",{attrs:{value:"BID"}},[t._v(" Bid type")]),n("option",{attrs:{value:"BUY"}},[t._v("Buy now type")])])]),n("p",{domProps:{textContent:t._s("Creator: "+t.auction.creator)}}),n("div",[n("button",{staticClass:"edit-auction-button",on:{click:t.cancel}},[t._v("Cancel")]),n("button",{staticClass:"edit-auction-button",on:{click:t.apply}},[t._v("Apply Changes")])])])])},Dt=[],It=(n("b0c0"),{name:"EditAuctionForm.vue",props:{isLoading:{type:Boolean}},data:function(){return{isAuthenticated:!1,isAuthenticating:!0,priceError:!1,username:{type:String,default:""},auction:null}},beforeCreate:function(){var t=this;this.isAuthenticating=!0,m.a.get("/api/user-status").then((function(e){t.isAuthenticated=e.data["isAuthenticated"],t.username=e.data["username"],t.isLoading=!1}));var e={index:window.location.href.split("id:").slice(-1)[0].toString()};m.a.post("/api/auction/auction",e).then((function(e){t.auction=e.data["auction"]}))},methods:{cancel:function(){var t="/auction/id:"+this.auction._id;window.location.href=t},apply:function(){if(0!=this.$refs["auction-name-input"].value.length&&(this.auction.name=this.$refs["auction-name-input"].value),this.$refs["auction-price-input"].value<.01&&this.$refs["auction-price-input"].value.length>0?this.priceError=!0:(this.priceError=!1,0!=this.$refs["auction-price-input"].value.length&&(this.auction.price=this.$refs["auction-price-input"].value)),0!=this.$refs["auction-type-select"].options[this.$refs["auction-type-select"].selectedIndex].value.length&&(this.auction.type=this.$refs["auction-type-select"].options[this.$refs["auction-type-select"].selectedIndex].value),!this.priceError){var t={_id:this.auction._id,name:this.auction.name,price:this.auction.price,type:this.auction.type};m.a.post("/api/auction/edit",t).then((function(){}));var e="/auction/id:"+this.auction._id;window.location.href=e}}}}),Rt=It,Nt=(n("64c6"),Object(o["a"])(Rt,Bt,Dt,!1,null,null,null)),Ht=Nt.exports,Vt={name:"AuctionEditView",components:{LeftPanel:b,EditAuctionForm:Ht,RightPanel:S}},qt=Vt,Ft=(n("41ba"),Object(o["a"])(qt,jt,Mt,!1,null,null,null)),Ut=Ft.exports,Wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"messenger-page"},[n("div",{staticClass:"messenger-container"},[n("div",{staticClass:"messenger-left"},[n("left-panel")],1),n("div",{staticClass:"messenger-center"},[n("messenger")],1),n("div",{staticClass:"messenger-right"},[n("right-panel")],1)])])},Yt=[],Jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"messenger-page"},[t.isAuthenticated&&!t.show_conversation?n("div",{staticClass:"messenger-div"},[0==this.conversations.length?n("p",[t._v("No conversations.")]):t._e(),t._l(this.conversations,(function(e){return n("div",{key:e._id},[n("div",{staticClass:"conversation",on:{click:function(n){return t.chat(e)}}},[n("p",{domProps:{textContent:t._s(e.users.find((function(e){if(e!=t.username)return e})))}})])])}))],2):t._e(),t.isAuthenticated&&t.show_conversation?n("div",{staticClass:"chat-div"},[n("div",{ref:"chat-box",staticClass:"chatbox",attrs:{id:"chat-box"}},t._l(this.messages,(function(e){return n("div",{key:e._id,staticClass:"messages"},[e.from==t.username?n("p",{staticClass:"user1Message",domProps:{textContent:t._s(e.from+":\n"+e.text)}}):n("p",{staticClass:"user2Message",domProps:{textContent:t._s(e.from+":\n"+e.text)}})])})),0),n("div",{staticClass:"bottom-menu"},[n("input",{ref:"chat-input",staticClass:"chat-input",attrs:{id:"chat-input",type:"text"}}),n("button",{staticClass:"chat-button",on:{click:t.send}},[t._v("SEND")]),n("button",{staticClass:"chat-button",on:{click:t.back}},[t._v("BACK")])])]):t._e()])},Kt=[],zt={name:"Messenger",data:function(){return{isAuthenticated:{type:Boolean,default:!1},username:null,userTo:null,nameError:!1,priceError:!1,typeError:!1,conversations:null,show_conversation:!1,conversation_id:null,messages:null,socket:Et()()}},beforeCreate:function(){var t=this;m.a.get("/api/user-status").then((function(e){t.isAuthenticated=e.data["isAuthenticated"],t.username=e.data["username"]})),m.a.get("/api/conversations/conversations").then((function(e){t.conversations=e.data}))},methods:{chat:function(t){var e=this;this.show_conversation=!0;var n="";n=t.users[0]!=this.username?t.users[0]:t.users[1],this.userTo=n;var i={from:this.username,to:n};this.socket.on("receive-message",(function(t){console.log("msss"),e.messages.push(t),e.$refs["chat-box"].scrollTop=e.$refs["chat-box"].scrollHeight})),m.a.post("/api/conversations/messages",i).then((function(t){e.messages=t.data,e.$refs["chat-box"].scrollTop=e.$refs["chat-box"].scrollHeight})),window.onbeforeunload=function(){e.isAuthenticated&&(e.socket.emit("leave-chat",{_id:e.conversation_id}),e.socket.disconnect(!0))},m.a.post("/api/conversations/conversation",{users:t.users}).then((function(t){e.socket.emit("join-chat",{_id:t.data._id}),e.conversation_id=t.data._id}))},back:function(){var t=this;this.socket.emit("leave-chat",{_id:this.conversation_id}),this.show_conversation=!1,this.messages=null,this.userTo=null,this.socket=Et()(),m.a.get("/api/conversations/conversations").then((function(e){t.conversations=e.data}))},send:function(){if(this.$refs["chat-input"].value.length>0){var t={_id:this.conversation_id,from:this.username,to:this.userTo,text:this.$refs["chat-input"].value};this.$refs["chat-input"].value="",this.socket.emit("send-message",t)}}}},Gt=zt,Qt=(n("bb7a"),Object(o["a"])(Gt,Jt,Kt,!1,null,null,null)),Xt=Qt.exports,Zt={name:"MessengerView",components:{LeftPanel:b,Messenger:Xt,RightPanel:S}},te=Zt,ee=(n("833e"),Object(o["a"])(te,Wt,Yt,!1,null,null,null)),ne=ee.exports,ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home-page"},[n("div",{staticClass:"home-container"},[n("register-form")],1)])},ae=[],se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isAuthenticated||t.isAuthenticating?t._e():n("div",{staticClass:"register-div"},[n("div",{staticClass:"register-box"},[n("h1",[t._v("Register")]),t.loginError?n("span",[n("p",[t._v("Username exists!")])]):t._e(),t.usernameError?n("span",[n("p",[t._v("Please enter username.")])]):t._e(),n("input",{ref:"username-input",staticClass:"input",attrs:{id:"username-input",type:"text",placeholder:"username",required:""}}),t.passwordError?n("span",[n("p",[t._v("Please enter password.")])]):t._e(),n("input",{ref:"password-input",staticClass:"input",attrs:{id:"password-input",type:"password",placeholder:"password",required:""}}),n("button",{staticClass:"register-button",on:{click:t.register}},[t._v("Register")]),t._m(0)])])},oe=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a",[t._v("Have an account?")]),n("a",{attrs:{href:"/"}},[t._v("Login")])])}],re={name:"Login",data:function(){return{isAuthenticated:!1,isAuthenticating:!0,usernameError:!1,passwordError:!1,loginError:!1}},beforeCreate:function(){var t=this;m.a.get("/api/user-status").then((function(e){t.isAuthenticated=e["isAuthenticated"],t.isAuthenticating=!1}))},methods:{register:function(){var t=this,e={username:this.$refs["username-input"].value,password:this.$refs["password-input"].value};0==this.$refs["username-input"].value.length?this.usernameError=!0:this.usernameError=!1,0==this.$refs["password-input"].value.length?this.passwordError=!0:this.passwordError=!1,this.loginError||this.usernameError||this.passwordError||m.a.post("/api/user-exists",{username:e["username"]}).then((function(n){t.loginError=n.data["loginError"],t.loginError||m.a.post("/api/register",e).then((function(e){t.passwordError=e.data["passwordError"],t.usernameError=e.data["usernameError"],t.loginError||t.loginError||t.passwordError||(window.location.href="/")}))}))}}},ce=re,ue=(n("9bcf"),Object(o["a"])(ce,se,oe,!1,null,null,null)),le=ue.exports,de={name:"RegisterView",components:{RegisterForm:le}},pe=de,he=(n("1ccf"),Object(o["a"])(pe,ie,ae,!1,null,null,null)),fe=he.exports;i["a"].use(l["a"]);var ve=[{path:"/",name:"Home",component:D},{path:"/register",name:"Register",component:fe},{path:"/myauctions",name:"MyAuctions",component:K},{path:"/myhistory",name:"MyHistory",component:ot},{path:"/create-auction",name:"CreateAuction",component:_t},{path:"/auction/id:(\\w+)",name:"AuctionView",component:St},{path:"/edit-auction/id:(\\w+)",name:"AuctionEditView",component:Ut},{path:"/messenger",name:"MessengerView",component:ne}],me=new l["a"]({mode:"history",base:"/",routes:ve}),ge=me;i["a"].config.productionTip=!1,new i["a"]({router:ge,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var i=n("9c0c"),a=n.n(i);a.a},"61b4":function(t,e,n){},"635c":function(t,e,n){},"64c6":function(t,e,n){"use strict";var i=n("dac3"),a=n.n(i);a.a},6622:function(t,e,n){},"6a18":function(t,e,n){},7285:function(t,e,n){"use strict";var i=n("e2d0"),a=n.n(i);a.a},"833e":function(t,e,n){"use strict";var i=n("61b4"),a=n.n(i);a.a},8474:function(t,e,n){},"85fc":function(t,e,n){},"86eb":function(t,e,n){"use strict";var i=n("d4d2"),a=n.n(i);a.a},"8ee4":function(t,e,n){"use strict";var i=n("8474"),a=n.n(i);a.a},9133:function(t,e,n){},"98bb":function(t,e,n){"use strict";var i=n("9133"),a=n.n(i);a.a},"9bcf":function(t,e,n){"use strict";var i=n("1cff"),a=n.n(i);a.a},"9c0c":function(t,e,n){},"9c71":function(t,e,n){"use strict";var i=n("a6cf"),a=n.n(i);a.a},a6cf:function(t,e,n){},b81d:function(t,e,n){"use strict";var i=n("6a18"),a=n.n(i);a.a},bb7a:function(t,e,n){"use strict";var i=n("635c"),a=n.n(i);a.a},c6da:function(t,e,n){"use strict";var i=n("d2eb"),a=n.n(i);a.a},cac0:function(t,e,n){"use strict";var i=n("4b62"),a=n.n(i);a.a},d2eb:function(t,e,n){},d4d2:function(t,e,n){},dac3:function(t,e,n){},e2d0:function(t,e,n){},ea57:function(t,e,n){},f738:function(t,e,n){"use strict";var i=n("16d1"),a=n.n(i);a.a}});
//# sourceMappingURL=app.cbee0286.js.map